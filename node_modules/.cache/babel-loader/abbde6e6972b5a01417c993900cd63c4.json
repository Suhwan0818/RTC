{"ast":null,"code":"var _jsxFileName = \"/Users/isangcheol/Desktop/project/nisl/nisl/src/Main.js\",\n    _s = $RefreshSig$();\n\nimport styled from \"styled-components\";\nimport io from \"socket.io-client\";\nimport MainBoxContainer from \"./Components/Container/MainBoxContainer\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { initSocket } from \"./Components/modules/roomAndChannel\";\nimport { receiveChat } from \"./Components/modules/roomAndChannel\";\nimport { pullAllRoom } from \"./Components/pullDataFunc/pullData\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BackDiv = styled.div`\n    width: 100%;\n    height: 100%;\n`;\n_c = BackDiv;\nconst socket = io.connect(\"http://localhost:80\");\n\nconst Main = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const store = useSelector(state => state);\n  useEffect(() => {\n    socket.on('message', function (data) {\n      //console.log(\"App.js Socket(receive chat) \", data);\n      dispatch(receiveChat(data));\n    });\n    dispatch(initSocket(socket));\n    let sendingRoom = [];\n    store.rooms.map(room => room.channels.map(channel => {\n      sendingRoom.push({\n        channel_name: room.name,\n        room_name: channel.name\n      });\n    }));\n    socket.emit(\"join\", sendingRoom);\n    dispatch(pullRoom());\n  }, []);\n  return /*#__PURE__*/_jsxDEV(BackDiv, {\n    children: /*#__PURE__*/_jsxDEV(MainBoxContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Main, \"RjwF01zgQ2AveE3OtqlFhuHO0lw=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c2 = Main;\nexport default Main;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"BackDiv\");\n$RefreshReg$(_c2, \"Main\");","map":{"version":3,"sources":["/Users/isangcheol/Desktop/project/nisl/nisl/src/Main.js"],"names":["styled","io","MainBoxContainer","useEffect","useDispatch","useSelector","initSocket","receiveChat","pullAllRoom","BackDiv","div","socket","connect","Main","dispatch","store","state","on","data","sendingRoom","rooms","map","room","channels","channel","push","channel_name","name","room_name","emit","pullRoom"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,mBAAnB;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,OAAOC,gBAAP,MAA6B,yCAA7B;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,UAAT,QAA2B,qCAA3B;AACA,SAASC,WAAT,QAA4B,qCAA5B;AACA,SAASC,WAAT,QAA4B,oCAA5B;;AAEA,MAAMC,OAAO,GAAGT,MAAM,CAACU,GAAI;AAC3B;AACA;AACA,CAHA;KAAMD,O;AAKN,MAAME,MAAM,GAAGV,EAAE,CAACW,OAAH,CAAW,qBAAX,CAAf;;AAEA,MAAMC,IAAI,GAAG,MAAM;AAAA;;AACf,QAAMC,QAAQ,GAAGV,WAAW,EAA5B;AACA,QAAMW,KAAK,GAAGV,WAAW,CAACW,KAAK,IAAIA,KAAV,CAAzB;AACAb,EAAAA,SAAS,CAAC,MAAM;AACZQ,IAAAA,MAAM,CAACM,EAAP,CAAU,SAAV,EAAqB,UAAUC,IAAV,EAAgB;AACjC;AACAJ,MAAAA,QAAQ,CAACP,WAAW,CAACW,IAAD,CAAZ,CAAR;AACH,KAHD;AAIAJ,IAAAA,QAAQ,CAACR,UAAU,CAACK,MAAD,CAAX,CAAR;AAEA,QAAIQ,WAAW,GAAG,EAAlB;AAEAJ,IAAAA,KAAK,CAACK,KAAN,CAAYC,GAAZ,CAAgBC,IAAI,IAAIA,IAAI,CAACC,QAAL,CAAcF,GAAd,CAAkBG,OAAO,IAAI;AACjDL,MAAAA,WAAW,CAACM,IAAZ,CAAiB;AACbC,QAAAA,YAAY,EAAEJ,IAAI,CAACK,IADN;AAEbC,QAAAA,SAAS,EAAEJ,OAAO,CAACG;AAFN,OAAjB;AAKH,KANuB,CAAxB;AAOAhB,IAAAA,MAAM,CAACkB,IAAP,CAAY,MAAZ,EAAoBV,WAApB;AAEAL,IAAAA,QAAQ,CAACgB,QAAQ,EAAT,CAAR;AACH,GAnBQ,EAmBN,EAnBM,CAAT;AAoBA,sBACI,QAAC,OAAD;AAAA,2BACI,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CA5BD;;GAAMjB,I;UACeT,W,EACHC,W;;;MAFZQ,I;AA8BN,eAAeA,IAAf","sourcesContent":["import styled from \"styled-components\"\nimport io from \"socket.io-client\";\nimport MainBoxContainer from \"./Components/Container/MainBoxContainer\"\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { initSocket } from \"./Components/modules/roomAndChannel\";\nimport { receiveChat } from \"./Components/modules/roomAndChannel\";\nimport { pullAllRoom } from \"./Components/pullDataFunc/pullData\";\n\nconst BackDiv = styled.div`\n    width: 100%;\n    height: 100%;\n`\n\nconst socket = io.connect(\"http://localhost:80\");\n\nconst Main = () => {\n    const dispatch = useDispatch();\n    const store = useSelector(state => state);\n    useEffect(() => {\n        socket.on('message', function (data) {\n            //console.log(\"App.js Socket(receive chat) \", data);\n            dispatch(receiveChat(data));\n        });\n        dispatch(initSocket(socket));\n\n        let sendingRoom = [];\n\n        store.rooms.map(room => room.channels.map(channel => {\n            sendingRoom.push({\n                channel_name: room.name,\n                room_name: channel.name,\n            });\n\n        }))\n        socket.emit(\"join\", sendingRoom)\n\n        dispatch(pullRoom());\n    }, [])\n    return (\n        <BackDiv>\n            <MainBoxContainer />\n        </BackDiv>\n    )\n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}