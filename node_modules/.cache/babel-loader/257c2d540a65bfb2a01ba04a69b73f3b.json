{"ast":null,"code":"var _jsxFileName = \"/Users/isangcheol/Desktop/project/nisl/nisl/src/Main.js\",\n    _s = $RefreshSig$();\n\nimport styled from \"styled-components\";\nimport io from \"socket.io-client\";\nimport MainBoxContainer from \"./Components/Container/MainBoxContainer\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { initSocket } from \"./Components/modules/roomAndChannel\";\nimport { receiveChat } from \"./Components/modules/roomAndChannel\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BackDiv = styled.div`\n    width: 100%;\n    height: 100%;\n`;\n_c = BackDiv;\nconst socket = io.connect(\"http://localhost:80\");\n\nconst Main = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const store = useSelector(state => state);\n  useEffect(() => {\n    socket.on('message', function (data) {\n      console.log(\"App.js Socket(receive chat) \", data);\n      dispatch(receiveChat(data));\n    });\n    dispatch(initSocket(socket));\n    let sendingRoom = [];\n    store.rooms.map(room => room.channels.map(channel => {\n      console.log(room.name);\n      console.log(channel.name);\n      sendingRoom.push({\n        channel_name: room.name,\n        room_name: channel.name\n      });\n    }));\n    socket.emit(\"join\", sendingRoom);\n    console.log(sendingRoom);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(BackDiv, {\n    children: /*#__PURE__*/_jsxDEV(MainBoxContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Main, \"RjwF01zgQ2AveE3OtqlFhuHO0lw=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c2 = Main;\nexport default Main;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"BackDiv\");\n$RefreshReg$(_c2, \"Main\");","map":{"version":3,"sources":["/Users/isangcheol/Desktop/project/nisl/nisl/src/Main.js"],"names":["styled","io","MainBoxContainer","useEffect","useDispatch","useSelector","initSocket","receiveChat","BackDiv","div","socket","connect","Main","dispatch","store","state","on","data","console","log","sendingRoom","rooms","map","room","channels","channel","name","push","channel_name","room_name","emit"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,mBAAnB;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,OAAOC,gBAAP,MAA6B,yCAA7B;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,UAAT,QAA2B,qCAA3B;AACA,SAASC,WAAT,QAA4B,qCAA5B;;AAEA,MAAMC,OAAO,GAAGR,MAAM,CAACS,GAAI;AAC3B;AACA;AACA,CAHA;KAAMD,O;AAKN,MAAME,MAAM,GAAGT,EAAE,CAACU,OAAH,CAAW,qBAAX,CAAf;;AAEA,MAAMC,IAAI,GAAG,MAAM;AAAA;;AACf,QAAMC,QAAQ,GAAGT,WAAW,EAA5B;AACA,QAAMU,KAAK,GAAGT,WAAW,CAACU,KAAK,IAAIA,KAAV,CAAzB;AACAZ,EAAAA,SAAS,CAAC,MAAM;AACZO,IAAAA,MAAM,CAACM,EAAP,CAAU,SAAV,EAAqB,UAAUC,IAAV,EAAgB;AACjCC,MAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAA4CF,IAA5C;AACAJ,MAAAA,QAAQ,CAACN,WAAW,CAACU,IAAD,CAAZ,CAAR;AACH,KAHD;AAIAJ,IAAAA,QAAQ,CAACP,UAAU,CAACI,MAAD,CAAX,CAAR;AAEA,QAAIU,WAAW,GAAG,EAAlB;AAEAN,IAAAA,KAAK,CAACO,KAAN,CAAYC,GAAZ,CAAgBC,IAAI,IAAIA,IAAI,CAACC,QAAL,CAAcF,GAAd,CAAkBG,OAAO,IAAI;AACjDP,MAAAA,OAAO,CAACC,GAAR,CAAYI,IAAI,CAACG,IAAjB;AACAR,MAAAA,OAAO,CAACC,GAAR,CAAYM,OAAO,CAACC,IAApB;AACAN,MAAAA,WAAW,CAACO,IAAZ,CAAiB;AACbC,QAAAA,YAAY,EAAEL,IAAI,CAACG,IADN;AAEbG,QAAAA,SAAS,EAAEJ,OAAO,CAACC;AAFN,OAAjB;AAKH,KARuB,CAAxB;AASAhB,IAAAA,MAAM,CAACoB,IAAP,CAAY,MAAZ,EAAoBV,WAApB;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAYC,WAAZ;AACH,GApBQ,EAoBN,EApBM,CAAT;AAqBA,sBACI,QAAC,OAAD;AAAA,2BACI,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CA7BD;;GAAMR,I;UACeR,W,EACHC,W;;;MAFZO,I;AA+BN,eAAeA,IAAf","sourcesContent":["import styled from \"styled-components\"\nimport io from \"socket.io-client\";\nimport MainBoxContainer from \"./Components/Container/MainBoxContainer\"\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { initSocket } from \"./Components/modules/roomAndChannel\";\nimport { receiveChat } from \"./Components/modules/roomAndChannel\";\n\nconst BackDiv = styled.div`\n    width: 100%;\n    height: 100%;\n`\n\nconst socket = io.connect(\"http://localhost:80\");\n\nconst Main = () => {\n    const dispatch = useDispatch();\n    const store = useSelector(state => state);\n    useEffect(() => {\n        socket.on('message', function (data) {\n            console.log(\"App.js Socket(receive chat) \", data);\n            dispatch(receiveChat(data));\n        });\n        dispatch(initSocket(socket));\n\n        let sendingRoom = [];\n\n        store.rooms.map(room => room.channels.map(channel => {\n            console.log(room.name);\n            console.log(channel.name);\n            sendingRoom.push({\n                channel_name: room.name,\n                room_name: channel.name,\n            });\n\n        }))\n        socket.emit(\"join\", sendingRoom)\n        console.log(sendingRoom);\n    }, [])\n    return (\n        <BackDiv>\n            <MainBoxContainer />\n        </BackDiv>\n    )\n}\n\nexport default Main;"]},"metadata":{},"sourceType":"module"}