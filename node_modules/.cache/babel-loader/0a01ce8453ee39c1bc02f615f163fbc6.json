{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\82105\\\\Desktop\\\\22.01.07\\\\Frontend\\\\src\\\\Main.js\",\n    _s = $RefreshSig$();\n\nimport styled from \"styled-components\";\nimport io from \"socket.io-client\";\nimport MainBoxContainer from \"./Components/Container/MainBoxContainer\";\nimport { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { initSocket, pullRoom } from \"./Components/modules/roomAndChannel\";\nimport { receiveChat } from \"./Components/modules/roomAndChannel\";\nimport { pullAllRoom } from \"./Components/pullDataFunc/pullData\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BackDiv = styled.div`\n    width: 100%;\n    height: 100%;\n`;\n_c = BackDiv;\nconst socket = io.connect(\"http://localhost:80\");\n\nconst Main = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const store = useSelector(state => state);\n  useEffect(() => {\n    socket.on('message', function (data) {\n      //console.log(\"App.js Socket(receive chat) \", data);\n      dispatch(receiveChat(data));\n    });\n    dispatch(initSocket(socket));\n    let sendingRoom = [];\n    store.rooms.map(room => room.channels.map(channel => {\n      sendingRoom.push({\n        channel_name: room.name,\n        room_name: channel.name\n      });\n    }));\n    socket.emit(\"join\", sendingRoom);\n    dispatch(pullRoom());\n  }, []);\n  return /*#__PURE__*/_jsxDEV(BackDiv, {\n    children: /*#__PURE__*/_jsxDEV(MainBoxContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Main, \"RjwF01zgQ2AveE3OtqlFhuHO0lw=\", false, function () {\n  return [useDispatch, useSelector];\n});\n\n_c2 = Main;\nexport default Main;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"BackDiv\");\n$RefreshReg$(_c2, \"Main\");","map":{"version":3,"sources":["C:/Users/82105/Desktop/22.01.07/Frontend/src/Main.js"],"names":["styled","io","MainBoxContainer","useEffect","useDispatch","useSelector","initSocket","pullRoom","receiveChat","pullAllRoom","BackDiv","div","socket","connect","Main","dispatch","store","state","on","data","sendingRoom","rooms","map","room","channels","channel","push","channel_name","name","room_name","emit"],"mappings":";;;AAAA,OAAOA,MAAP,MAAmB,mBAAnB;AACA,OAAOC,EAAP,MAAe,kBAAf;AACA,OAAOC,gBAAP,MAA6B,yCAA7B;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,UAAT,EAAqBC,QAArB,QAAqC,qCAArC;AACA,SAASC,WAAT,QAA4B,qCAA5B;AACA,SAASC,WAAT,QAA4B,oCAA5B;;AAEA,MAAMC,OAAO,GAAGV,MAAM,CAACW,GAAI;AAC3B;AACA;AACA,CAHA;KAAMD,O;AAKN,MAAME,MAAM,GAAGX,EAAE,CAACY,OAAH,CAAW,qBAAX,CAAf;;AAEA,MAAMC,IAAI,GAAG,MAAM;AAAA;;AACf,QAAMC,QAAQ,GAAGX,WAAW,EAA5B;AACA,QAAMY,KAAK,GAAGX,WAAW,CAACY,KAAK,IAAIA,KAAV,CAAzB;AACAd,EAAAA,SAAS,CAAC,MAAM;AACZS,IAAAA,MAAM,CAACM,EAAP,CAAU,SAAV,EAAqB,UAAUC,IAAV,EAAgB;AACjC;AACAJ,MAAAA,QAAQ,CAACP,WAAW,CAACW,IAAD,CAAZ,CAAR;AACH,KAHD;AAIAJ,IAAAA,QAAQ,CAACT,UAAU,CAACM,MAAD,CAAX,CAAR;AAEA,QAAIQ,WAAW,GAAG,EAAlB;AAEAJ,IAAAA,KAAK,CAACK,KAAN,CAAYC,GAAZ,CAAgBC,IAAI,IAAIA,IAAI,CAACC,QAAL,CAAcF,GAAd,CAAkBG,OAAO,IAAI;AACjDL,MAAAA,WAAW,CAACM,IAAZ,CAAiB;AACbC,QAAAA,YAAY,EAAEJ,IAAI,CAACK,IADN;AAEbC,QAAAA,SAAS,EAAEJ,OAAO,CAACG;AAFN,OAAjB;AAKH,KANuB,CAAxB;AAOAhB,IAAAA,MAAM,CAACkB,IAAP,CAAY,MAAZ,EAAoBV,WAApB;AAEAL,IAAAA,QAAQ,CAACR,QAAQ,EAAT,CAAR;AACH,GAnBQ,EAmBN,EAnBM,CAAT;AAoBA,sBACI,QAAC,OAAD;AAAA,2BACI,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAKH,CA5BD;;GAAMO,I;UACeV,W,EACHC,W;;;MAFZS,I;AA8BN,eAAeA,IAAf","sourcesContent":["import styled from \"styled-components\"\r\nimport io from \"socket.io-client\";\r\nimport MainBoxContainer from \"./Components/Container/MainBoxContainer\"\r\nimport { useEffect } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { initSocket, pullRoom } from \"./Components/modules/roomAndChannel\";\r\nimport { receiveChat } from \"./Components/modules/roomAndChannel\";\r\nimport { pullAllRoom } from \"./Components/pullDataFunc/pullData\";\r\n\r\nconst BackDiv = styled.div`\r\n    width: 100%;\r\n    height: 100%;\r\n`\r\n\r\nconst socket = io.connect(\"http://localhost:80\");\r\n\r\nconst Main = () => {\r\n    const dispatch = useDispatch();\r\n    const store = useSelector(state => state);\r\n    useEffect(() => {\r\n        socket.on('message', function (data) {\r\n            //console.log(\"App.js Socket(receive chat) \", data);\r\n            dispatch(receiveChat(data));\r\n        });\r\n        dispatch(initSocket(socket));\r\n\r\n        let sendingRoom = [];\r\n\r\n        store.rooms.map(room => room.channels.map(channel => {\r\n            sendingRoom.push({\r\n                channel_name: room.name,\r\n                room_name: channel.name,\r\n            });\r\n\r\n        }))\r\n        socket.emit(\"join\", sendingRoom)\r\n\r\n        dispatch(pullRoom());\r\n    }, [])\r\n    return (\r\n        <BackDiv>\r\n            <MainBoxContainer />\r\n        </BackDiv>\r\n    )\r\n}\r\n\r\nexport default Main;"]},"metadata":{},"sourceType":"module"}